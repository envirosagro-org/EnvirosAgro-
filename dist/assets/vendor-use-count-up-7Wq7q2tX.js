import{r as i}from"./vendor-react-BGx942Si.js";var k=Object.defineProperty,L=Object.defineProperties,M=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,T=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))B.call(t,r)&&T(e,r,t[r]);if(S)for(var r of S(t))D.call(t,r)&&T(e,r,t[r]);return e},w=(e,t)=>L(e,M(t)),j=typeof window>"u"?i.useEffect:i.useLayoutEffect,H=({isPlaying:e,duration:t,startAt:r=0,updateInterval:a=0,onComplete:b,onUpdate:y})=>{let[f,R]=i.useState(r),v=i.useRef(r*-1e3),o=i.useRef(null),s=i.useRef(null),m=i.useRef(null),u=i.useRef({elapsedTimeRef:0,startAtRef:r,durationRef:t,updateIntervalRef:a});u.current=w(I({},u.current),{durationRef:t,updateIntervalRef:a});let c=l=>{let n=l/1e3;if(s.current===null){s.current=n,o.current=requestAnimationFrame(c);return}let{durationRef:p,elapsedTimeRef:C,updateIntervalRef:d,startAtRef:A}=u.current,x=n-s.current,P=C+x;s.current=n,u.current=w(I({},u.current),{elapsedTimeRef:P});let U=A+(d===0?P:(P/d|0)*d),$=A+P,F=typeof p=="number"&&$>=p;R(F?p:U),F||(o.current=requestAnimationFrame(c))},O=()=>{o.current&&cancelAnimationFrame(o.current),m.current&&clearTimeout(m.current),s.current=null},g=i.useCallback(l=>{let n=typeof l=="number"?l:r;O(),u.current=w(I({},u.current),{elapsedTimeRef:0,startAtRef:n}),R(n),e&&(o.current=requestAnimationFrame(c))},[e,r]);return j(()=>{if(y==null||y(f),t&&f>=t){v.current+=t*1e3;let{shouldRepeat:l=!1,delay:n=0,newStartAt:p}=(b==null?void 0:b(v.current/1e3))||{};l&&(m.current=setTimeout(()=>g(p),n*1e3))}},[f,t]),j(()=>(e&&(o.current=requestAnimationFrame(c)),O),[e]),{elapsedTime:f,reset:g}},E={easeInCubic:(e,t,r,a)=>(e/=a,r*e*e*e+t),easeOutCubic:(e,t,r,a)=>(e/=a,e--,r*(e*e*e+1)+t),linear:(e,t,r,a)=>r*e/a+t},J=E.easeOutCubic,K=e=>typeof e=="function"?e:E[e],N=(e,t)=>{if(typeof e=="number")return t},h=(e,t)=>e.replace(/\B(?=(\d{3})+(?!\d))/g,t),q=e=>(e.toString().split(".")[1]||"").length,Q=(e,t)=>{let r=q(e),a=q(t||1);return r>=a?r:a},W=({isCounting:e=!1,start:t=0,end:r,duration:a,decimalPlaces:b=Q(t,r),decimalSeparator:y=".",thousandsSeparator:f="",onComplete:R,easing:v=J,formatter:o,updateInterval:s,onUpdate:m})=>{let u=N(r,a),c=l=>{let n;if(u===0&&typeof r=="number")n=r;else if(typeof r=="number"&&typeof u=="number"){let d=K(v),A=l<u?l:u;n=d(A,t,r-t,u)}else n=t+l;if(typeof o=="function")return o(n);if(b===0){let d=Math.round(n).toString();return h(d,f)}let[p,C]=n.toFixed(b).split(".");return`${h(p,f)}${y}${C}`},{elapsedTime:O,reset:g}=H({isPlaying:e,duration:u,onComplete:R,updateInterval:s,onUpdate:typeof m=="function"?l=>m(c(l)):void 0});return{value:c(O),reset:g}};export{W as w};
