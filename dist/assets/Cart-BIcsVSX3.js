import{r as o,j as e,V as j,Y as u,s as w,D as v,ai as y,aj as C,ak as S,al as z,am as A,A as E,n as f,Z as I,an as T,L as P,ao as D,ap as R}from"./vendor-paJ_2uBt.js";import{S as F}from"./SafeImage-CaI_ChWT.js";import{V as g}from"./AgBiz-C8AzQEv2.js";const k=o.createContext(void 0),_=({children:n})=>{const[l,c]=o.useState(()=>{const t=localStorage.getItem("ea_cart");return t?JSON.parse(t):[]});o.useEffect(()=>{localStorage.setItem("ea_cart",JSON.stringify(l))},[l]);const d=t=>{c(a=>a.find(s=>s.id===t.id)?a.map(s=>s.id===t.id?{...s,quantity:s.quantity+1}:s):[...a,{...t,quantity:1}])},x=t=>{c(a=>a.filter(i=>i.id!==t))},h=(t,a)=>{if(a<=0){x(t);return}c(i=>i.map(s=>s.id===t?{...s,quantity:a}:s))},b=()=>c([]),m=l.reduce((t,a)=>t+a.quantity,0),p=l.reduce((t,a)=>{const i=parseFloat(a.price.replace(/[^0-9.]/g,""));return t+i*a.quantity},0);return e.jsx(k.Provider,{value:{cart:l,addToCart:d,removeFromCart:x,updateQuantity:h,clearCart:b,totalItems:m,totalPrice:p},children:n})},O=()=>{const n=o.useContext(k);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},q=({onNavigate:n})=>{const{cart:l,removeFromCart:c,updateQuantity:d,totalPrice:x,totalItems:h,clearCart:b}=O(),[m,p]=o.useState(!1),[t,a]=o.useState(!1),[i,s]=o.useState("EAC"),N=()=>{p(!0),setTimeout(()=>{p(!1),a(!0),b(),R.success("Strategic deployment initiated.")},3e3)};return t?e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-20 animate-in zoom-in-95",children:e.jsxs("div",{className:"bg-white dark:bg-earth-900 rounded-[4rem] p-16 border border-earth-100 dark:border-earth-800 shadow-cinematic text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 rotate-12",children:e.jsx(j,{size:300})}),e.jsx("div",{className:"w-24 h-24 bg-agro-50 dark:bg-agro-900/30 text-agro-600 rounded-full flex items-center justify-center mx-auto mb-10 shadow-xl",children:e.jsx(j,{size:48})}),e.jsx("h2",{className:"text-5xl font-serif font-black text-earth-900 dark:text-white mb-6 leading-tight tracking-tighter",children:"Transmission Successful"}),e.jsx("p",{className:"text-xl text-earth-500 dark:text-earth-400 mb-12 max-w-lg mx-auto font-medium",children:"Your strategic assets have been authorized for deployment. Tracking IDs and licenses have been pushed to your Node Registry."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto mb-16",children:[e.jsxs("div",{className:"bg-earth-50 dark:bg-earth-800 p-8 rounded-[2.5rem] border border-earth-100 dark:border-earth-700",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-earth-400 tracking-widest block mb-1",children:"Registry Hash"}),e.jsx("span",{className:"text-xs font-mono font-bold text-agro-600",children:"0xEA-SYNC-7F92-A4D0"})]}),e.jsxs("div",{className:"bg-earth-50 dark:bg-earth-800 p-8 rounded-[2.5rem] border border-earth-100 dark:border-earth-700",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-earth-400 tracking-widest block mb-1",children:"Deployment Priority"}),e.jsx("span",{className:"text-xs font-bold text-blue-600 uppercase",children:"Immediate / Critical"})]})]}),e.jsx("button",{onClick:()=>n(g.HOME),className:"bg-earth-900 dark:bg-white text-white dark:text-earth-900 px-12 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.3em] hover:scale-105 active:scale-95 transition-all shadow-2xl",children:"Back to Command Hub"})]})}):l.length===0?e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-20 text-center animate-in fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-earth-900 rounded-[4rem] p-20 border border-earth-100 dark:border-earth-800 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 rotate-12",children:e.jsx(u,{size:250})}),e.jsx("div",{className:"w-24 h-24 bg-earth-50 dark:bg-earth-800 rounded-[2rem] flex items-center justify-center mx-auto mb-10 shadow-inner",children:e.jsx(u,{size:48,className:"text-earth-300"})}),e.jsx("h2",{className:"text-4xl font-serif font-black text-earth-900 dark:text-white mb-4 tracking-tight",children:"Node Inventory Empty"}),e.jsx("p",{className:"text-lg text-earth-500 dark:text-earth-400 mb-12 max-w-md mx-auto",children:"Authorized assets have not been selected for deployment yet. Please browse the Marketplace."}),e.jsxs("button",{onClick:()=>n(g.PRODUCTS),className:"inline-flex items-center gap-4 bg-agro-600 hover:bg-agro-500 text-white font-black uppercase text-xs tracking-[0.3em] py-5 px-12 rounded-2xl shadow-2xl shadow-agro-600/20 transition-all active:scale-95",children:["Access Marketplace ",e.jsx(w,{size:18})]})]})}):e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-12 transition-colors duration-500 min-h-screen",children:[e.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-end mb-16 gap-12",children:[e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("div",{className:"ea-label-meta mb-4 text-agro-600",children:"Secure Asset Deployment"}),e.jsxs("h1",{className:"text-5xl lg:text-7xl font-serif font-black text-earth-900 dark:text-white leading-none tracking-tighter",children:["Inventory ",e.jsx("span",{className:"text-agro-600 italic",children:"Checkout"})]}),e.jsx("p",{className:"text-xl text-earth-500 dark:text-earth-400 mt-6 font-medium leading-relaxed",children:"Review and authorize the deployment of strategic agricultural resources and knowledge tokens into your node."})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"bg-earth-50 dark:bg-earth-900 px-8 py-5 rounded-[2.5rem] border border-earth-100 dark:border-earth-800 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"p-3 bg-white dark:bg-earth-800 rounded-2xl text-blue-600 shadow-inner",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-earth-400 block tracking-widest mb-1",children:"Queue Status"}),e.jsxs("span",{className:"text-2xl font-black text-earth-900 dark:text-white leading-none",children:[h," Assets"]})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[e.jsx(y,{mode:"popLayout",children:l.map(r=>e.jsxs(C.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white dark:bg-earth-900 rounded-[3rem] p-6 md:p-8 border border-earth-100 dark:border-earth-800 shadow-sm flex flex-col md:flex-row items-center gap-8 relative group hover:shadow-cinematic transition-all duration-700",children:[e.jsx("div",{className:"w-32 h-32 rounded-[2rem] overflow-hidden shrink-0 border border-earth-100 dark:border-earth-800 shadow-inner group-hover:scale-105 transition-transform duration-700",children:e.jsx(F,{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-[9px] font-black uppercase text-agro-600 tracking-[0.2em] mb-1 block",children:["ASSET-NODE-",r.id.toUpperCase()]}),e.jsx("h3",{className:"text-2xl font-serif font-black text-earth-900 dark:text-white group-hover:text-agro-600 transition-colors leading-tight",children:r.name})]}),e.jsx("button",{onClick:()=>c(r.id),className:"p-3 text-earth-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-2xl transition-all",children:e.jsx(S,{size:20})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mt-6 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-earth-50 dark:bg-earth-800 p-1.5 rounded-2xl border border-earth-100 dark:border-earth-700 shadow-inner",children:[e.jsx("button",{onClick:()=>d(r.id,r.quantity-1),className:"p-2.5 hover:bg-white dark:hover:bg-earth-700 rounded-xl transition-all text-earth-600 dark:text-earth-300 active:scale-90",children:e.jsx(z,{size:18})}),e.jsx("span",{className:"text-lg font-black w-8 text-center text-earth-900 dark:text-white",children:r.quantity}),e.jsx("button",{onClick:()=>d(r.id,r.quantity+1),className:"p-2.5 hover:bg-white dark:hover:bg-earth-700 rounded-xl transition-all text-earth-600 dark:text-earth-300 active:scale-90",children:e.jsx(A,{size:18})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[9px] font-black text-earth-400 uppercase tracking-widest block mb-1",children:"Subtotal"}),e.jsxs("span",{className:"text-2xl font-black text-agro-600 dark:text-agro-400",children:["$",(parseFloat(r.price.replace("$","").replace(",",""))*r.quantity).toLocaleString()]})]})]})]})]},r.id))}),e.jsxs("button",{onClick:()=>n(g.PRODUCTS),className:"flex items-center gap-3 text-earth-400 hover:text-agro-600 font-black text-[10px] uppercase tracking-[0.4em] transition-all group pt-8 ml-4",children:[e.jsx(E,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"Continue Asset Acquisition"]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs("div",{className:"bg-earth-900 dark:bg-black rounded-[4rem] p-10 md:p-12 text-white shadow-2xl sticky top-32 border border-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 -rotate-12",children:e.jsx(f,{size:250})}),e.jsxs("h3",{className:"text-2xl font-serif font-black mb-10 flex items-center gap-4 relative z-10",children:[e.jsx(u,{size:28,className:"text-agro-500"})," Deployment Authorization"]}),e.jsxs("div",{className:"space-y-6 mb-12 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>s("EAC"),className:`p-6 rounded-[2rem] border-2 transition-all text-left ${i==="EAC"?"bg-agro-600/20 border-agro-600":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[e.jsx(I,{size:20,className:"text-agro-500 mb-3"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest block mb-1",children:"Node Credits"}),e.jsx("span",{className:"text-sm font-bold",children:"EAC Tokens"})]}),e.jsxs("button",{onClick:()=>s("CARD"),className:`p-6 rounded-[2rem] border-2 transition-all text-left ${i==="CARD"?"bg-blue-600/20 border-blue-600":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[e.jsx(T,{size:20,className:"text-blue-500 mb-3"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest block mb-1",children:"Standard Transmission"}),e.jsx("span",{className:"text-sm font-bold",children:"Fiat / FX"})]})]}),e.jsxs("div",{className:"pt-8 space-y-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-widest text-earth-400",children:[e.jsx("span",{children:"Deployment Count"}),e.jsxs("span",{className:"text-white",children:[h," Assets"]})]}),e.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-widest text-earth-400",children:[e.jsx("span",{children:"CO2 Neutral Logistics"}),e.jsx("span",{className:"text-agro-500",children:"AUTHORIZED"})]}),e.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-widest text-earth-400",children:[e.jsx("span",{children:"Registry Fee"}),e.jsx("span",{className:"text-white",children:"$0.00"})]}),e.jsx("div",{className:"h-px bg-white/10 my-6"}),e.jsx("div",{className:"flex justify-between items-end",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-agro-500 text-[10px] font-black uppercase tracking-[0.4em] block mb-2",children:"Total In(val) Investment"}),e.jsxs("span",{className:"text-5xl font-black tracking-tighter",children:["$",x.toLocaleString()]})]})})]})]}),e.jsx("button",{onClick:N,disabled:m,className:"w-full bg-agro-600 hover:bg-agro-500 text-white font-black uppercase text-xs tracking-[0.3em] py-6 rounded-[2rem] shadow-2xl shadow-agro-600/20 transition-all active:scale-[0.98] mb-8 relative z-10 flex items-center justify-center gap-4 border border-white/10 disabled:opacity-50",children:m?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"animate-spin"})," SYNCING WITH REGISTRY..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:20})," Authorize Transmission"]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-[9px] font-black text-earth-500 uppercase tracking-[0.5em] relative z-10",children:[e.jsx(f,{size:16,className:"text-agro-600"})," End-to-End Encrypted"]})]})})]})]})},H=Object.freeze(Object.defineProperty({__proto__:null,Cart:q},Symbol.toStringTag,{value:"Module"}));export{_ as C,H as a,O as u};
