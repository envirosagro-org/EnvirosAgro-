import{r,j as e,aU as O,A as E,L as R}from"./vendor-paJ_2uBt.js";const c={"envirosource-inc":{name:"EnviroSource Inc.",groups:{"farmers-club":{name:"Farmers Club",regNumber:"SOC-FARM-12345"},"research-society":{name:"Research Society",regNumber:"SOC-RES-67890"}}},"es-foundation":{name:"ES Foundation",groups:{"community-gardeners":{name:"Community Gardeners",regNumber:"SOC-CG-11223"},"sustainability-advocates":{name:"Sustainability Advocates",regNumber:"SOC-SA-33445"}}}},A={"farmers-club":["user1@envirosource.com","farmer@envirosource.com"],"research-society":["researcher@envirosource.com"],"community-gardeners":["gardener@esfoundation.org"],"sustainability-advocates":["advocate@esfoundation.org"]},L=({onLogin:y,onBack:j,isLoading:m,error:u})=>{const[n,N]=r.useState(""),[g,v]=r.useState(""),[a,w]=r.useState(""),[i,x]=r.useState(""),[b,S]=r.useState(""),[l,C]=r.useState(null),[d,k]=r.useState(!1),[h,t]=r.useState(null),F=s=>{s.target.files&&C(s.target.files[0])},G=s=>{if(s.preventDefault(),t(null),!d){t("You must agree to the terms and conditions.");return}if(!l){t("Please upload your group's registration certificate.");return}const o=c[a];if(!o){t("Invalid organization selected.");return}const p=o.groups[i];if(!p||p.regNumber!==b){t("The society registration number is incorrect.");return}const f=A[i];if(!f||!f.includes(n)){t("This email is not registered for the selected group.");return}y(n,g)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-800",children:"Group / Society / Club Login"}),e.jsx("p",{className:"mb-6 text-gray-500",children:"Login via your affiliated group."}),u&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm",children:u}),h&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm",children:h}),e.jsxs("form",{onSubmit:G,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),e.jsxs("select",{id:"organization",value:a,onChange:s=>{w(s.target.value),x("")},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an organization"}),Object.entries(c).map(([s,o])=>e.jsx("option",{value:s,children:o.name},s))]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group"}),e.jsxs("select",{id:"group",value:i,onChange:s=>x(s.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your group"}),Object.entries(c[a].groups).map(([s,o])=>e.jsx("option",{value:s,children:o.name},s))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Society Registration Number"}),e.jsx("input",{id:"registrationNumber",type:"text",value:b,onChange:s=>S(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"e.g., SOC-FARM-12345"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"groupCertificate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Registration Certificate"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(O,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:F})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})}),l&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["File: ",l.name]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:n,onChange:s=>N(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"your-email@example.com"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:g,onChange:s=>v(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"••••••••"})]}),e.jsxs("div",{className:"mb-6 flex items-center",children:[e.jsx("input",{id:"terms",type:"checkbox",checked:d,onChange:s=>k(s.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",e.jsx("a",{href:"/terms",target:"_blank",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Terms and Conditions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:j,className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 flex items-center gap-1",children:[e.jsx(E,{size:16}),"Back"]}),e.jsx("button",{type:"submit",disabled:m||!i||!d,className:"w-1/2 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?e.jsx(R,{className:"animate-spin"}):"Login"})]})]})]})})};export{L as G};
