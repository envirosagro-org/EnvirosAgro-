import{r as o,j as e,ai as g,bf as w,bg as j,aj as u}from"./vendor-paJ_2uBt.js";import{V as i}from"./AgBiz-C8AzQEv2.js";import{N as y}from"./layout/NavigationConstants.ts-D5ti1nIW.js";import{T as v}from"./layout/ThemeToggleButton-C5LbCXDr.js";import{u as N}from"./Cart-BIcsVSX3.js";const C=({items:r,onNavigate:n,closeMenu:a})=>e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl shadow-xl",children:e.jsx("ul",{className:"py-2",children:r.map((t,l)=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>{n(t.view),a()},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx(t.icon,{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-agro-600"}),e.jsx("span",{children:t.label})]})},l))})}),A=({onNavigate:r,currentView:n})=>{const[a,t]=o.useState(null),[l,c]=o.useState(!1),d=o.useRef(null),{totalItems:p}=N(),f=s=>{t(a===s?null:s)},b=s=>{s.view&&r(s.view),s.subItems?f(s.label):x()},m=s=>{d.current&&!d.current.contains(s.target)&&(t(null),c(!1))};o.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]);const x=()=>{c(!1),t(null)};return e.jsxs("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-white/5 w-full sticky top-0 z-50 transition-all",ref:d,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 group cursor-pointer",onClick:()=>r(i.HOME),children:[e.jsx("div",{className:"bg-agro-600 p-2 rounded-xl text-white shadow-lg shadow-agro-600/20 group-hover:scale-110 transition-transform",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"}),e.jsx("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C10.9 14.19 12 15 15 15"})]})}),e.jsx("span",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tighter",children:"EnvirosAgro"})]}),e.jsx("div",{className:"hidden xl:block",children:e.jsx("ul",{className:"flex items-center space-x-1",children:y.map(s=>e.jsxs("li",{className:"relative",children:[e.jsx("button",{onClick:()=>b(s),className:`flex items-center text-gray-600 dark:text-gray-400 hover:text-agro-700 dark:hover:text-agro-400 px-4 py-2 rounded-xl text-sm font-bold transition-all ${n===s.view?"text-agro-600 bg-agro-50 dark:bg-agro-900/20":""}`,children:e.jsx("span",{children:s.label})}),e.jsx(g,{children:a===s.label&&s.subItems&&e.jsx(C,{items:s.subItems,onNavigate:r,closeMenu:()=>t(null)})})]},s.label))})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{}),e.jsxs("button",{onClick:()=>r(i.CART),className:"relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:[e.jsx(w,{size:22}),p>0&&e.jsx("span",{className:"absolute top-0 right-0 bg-agro-600 text-white text-[10px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white dark:border-gray-900",children:p})]}),e.jsxs("button",{onClick:()=>r(i.AUTH),className:"hidden sm:flex items-center gap-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-xl shadow-gray-900/10 dark:shadow-white/5",children:[e.jsx(j,{size:16})," Sign Up"]}),e.jsx("div",{className:"xl:hidden",children:e.jsxs("button",{onClick:()=>c(!l),className:"p-2 rounded-xl text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:l?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),e.jsx(g,{children:l&&e.jsx(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"xl:hidden bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-white/5 overflow-hidden",children:e.jsxs("ul",{className:"px-4 pt-4 pb-8 space-y-2",children:[y.map(s=>e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>b(s),className:`w-full text-left flex items-center justify-between text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 px-4 py-3 rounded-xl text-sm font-bold transition-all ${n===s.view?"bg-agro-50 text-agro-600 dark:bg-agro-900/20":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s.icon,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{children:s.label})]}),s.subItems&&e.jsx("svg",{className:`w-4 h-4 transition-transform ${a===s.label?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx(g,{children:a===s.label&&s.subItems&&e.jsx(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx("ul",{className:"py-2 pl-8 space-y-1",children:s.subItems.map((h,k)=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>{r(h.view),x()},className:"flex items-center w-full text-left px-4 py-2.5 text-sm text-gray-500 dark:text-gray-400 hover:text-agro-600 dark:hover:text-agro-400 transition-colors font-medium",children:[e.jsx(h.icon,{className:"w-4 h-4 mr-3 opacity-50"}),e.jsx("span",{children:h.label})]})},k))})})})]},s.label)),e.jsx("li",{className:"pt-4",children:e.jsxs("button",{onClick:()=>{r(i.AUTH),x()},className:"w-full bg-agro-600 text-white py-4 rounded-xl text-xs font-black uppercase tracking-widest flex items-center justify-center gap-3",children:[e.jsx(j,{size:18})," Sign Up for ESIN"]})})]})})})]})};export{A as N};
