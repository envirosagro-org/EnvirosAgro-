import{j as e,Z as u,X as j,V as h,e as k,D as N,aF as w}from"../vendor-paJ_2uBt.js";import{V as v}from"../AgBiz-C8AzQEv2.js";const E=({setShowMintModal:r,mintStatus:l,setMintStatus:b,mintAmount:s,setMintAmount:m,selectedProjectId:i,setSelectedProjectId:g,projects:c,steps:n,processingStep:d,handleMint:f,MINT_RATE:p,user:o,onNavigate:x})=>{const t=c.find(a=>a.id===i);return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-earth-950/80 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-earth-900 w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 border border-white/10",children:[e.jsxs("div",{className:"bg-agro-900 p-8 text-white flex justify-between items-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 rotate-12",children:e.jsx(u,{size:100})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-2xl font-serif font-bold",children:"Asset Minting Console"}),e.jsx("p",{className:"text-xs text-agro-300 font-bold uppercase tracking-widest mt-1",children:"Biomass to Digital Capital Protocol"})]}),e.jsx("button",{onClick:()=>{r(!1),b("IDLE")},className:"relative z-10 p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(j,{size:24})})]}),e.jsxs("div",{className:"p-10",children:[l==="IDLE"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-earth-400 uppercase tracking-widest block px-1",children:"Select Verified Source"}),e.jsx("div",{className:"grid gap-3",children:c.map(a=>e.jsxs("button",{onClick:()=>g(a.id),className:`p-4 rounded-2xl border-2 text-left transition-all flex justify-between items-center ${i===a.id?"bg-agro-50 dark:bg-agro-950/30 border-agro-500 shadow-lg":"bg-white dark:bg-earth-800 border-earth-100 dark:border-earth-800 opacity-60"}`,children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-earth-900 dark:text-white",children:a.name}),e.jsxs("p",{className:"text-[10px] text-earth-500 font-bold uppercase tracking-tighter",children:[a.type," â€¢ ",a.availableTons," Tons Available"]})]}),i===a.id&&e.jsx(h,{size:18,className:"text-agro-600"})]},a.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end px-1",children:[e.jsx("label",{className:"text-[10px] font-black text-earth-400 uppercase tracking-widest",children:"Tons to Convert"}),e.jsxs("span",{className:"text-xs font-bold text-agro-600",children:["Max: ",t==null?void 0:t.availableTons]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:s,onChange:a=>m(a.target.value),max:t==null?void 0:t.availableTons,className:"w-full bg-earth-50 dark:bg-earth-800 border-2 border-earth-100 dark:border-earth-700 rounded-2xl p-6 text-3xl font-mono font-black text-center focus:outline-none focus:border-agro-500 transition-all dark:text-white"}),e.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-earth-300 font-bold",children:"TONS"})]})]}),e.jsxs("div",{className:"bg-earth-50 dark:bg-earth-800/50 p-6 rounded-2xl border border-earth-100 dark:border-earth-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-earth-400 uppercase tracking-widest mb-1",children:"EAC Value to Mint"}),e.jsxs("p",{className:"text-3xl font-serif font-bold text-agro-700 dark:text-agro-400",children:[(parseFloat(s||"0")*p).toFixed(0)," ",e.jsx("span",{className:"text-sm font-sans font-black text-earth-400",children:"EAC"})]})]}),e.jsx(k,{size:32,className:"text-amber-400 opacity-40"})]}),e.jsx("button",{onClick:f,disabled:!s||parseFloat(s)<=0||parseFloat(s)>((t==null?void 0:t.availableTons)||0),className:"w-full bg-agro-600 hover:bg-agro-700 text-white font-black py-5 rounded-2xl shadow-xl shadow-agro-600/20 transition-all hover:-translate-y-1 active:scale-95 disabled:opacity-50 disabled:translate-y-0 text-sm tracking-widest uppercase",children:"INITIALIZE MINTING SEQUENCE"})]}),l==="PROCESSING"&&e.jsxs("div",{className:"py-12 flex flex-col items-center text-center space-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-agro-100 dark:border-earth-800 border-t-agro-600 animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(N,{size:40,className:"text-agro-600 animate-pulse"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-2xl font-serif font-bold text-earth-900 dark:text-white",children:"Minting in Progress"}),e.jsx("p",{className:"text-earth-500 font-mono text-xs uppercase tracking-widest animate-pulse",children:n[d]})]}),e.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black text-earth-400 uppercase tracking-widest",children:[e.jsx("span",{children:"Sequence Progress"}),e.jsxs("span",{children:[((d+1)/n.length*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-earth-100 dark:bg-earth-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-agro-600 transition-all duration-700",style:{width:`${(d+1)/n.length*100}%`}})})]})]}),l==="SUCCESS"&&e.jsxs("div",{className:"py-12 text-center animate-in zoom-in duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 text-green-600 dark:text-green-400 shadow-inner",children:e.jsx(h,{size:56})}),e.jsx("h3",{className:"text-3xl font-serif font-bold text-earth-900 dark:text-white mb-4 tracking-tight",children:"Minting Successful"}),e.jsx("p",{className:"text-earth-600 dark:text-earth-400 mb-10 max-w-xs mx-auto leading-relaxed",children:"Verified biomass assets have been successfully converted and deployed to your ESIN wallet."}),e.jsxs("div",{className:"bg-agro-50 dark:bg-agro-900/30 p-8 rounded-[2.5rem] border border-agro-100 dark:border-agro-800 inline-block min-w-[280px] shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-agro-600 dark:text-agro-400 uppercase tracking-widest mb-2",children:"New Portfolio Balance"}),e.jsxs("p",{className:"text-5xl font-serif font-bold text-agro-900 dark:text-white",children:[o==null?void 0:o.eacBalance," ",e.jsx("span",{className:"text-xl font-sans font-black opacity-40",children:"EAC"})]})]}),e.jsxs("div",{className:"mt-12 flex gap-4",children:[e.jsx("button",{onClick:()=>r(!1),className:"flex-1 bg-white dark:bg-earth-800 border-2 border-earth-100 dark:border-earth-700 text-earth-600 dark:text-earth-300 font-black py-4 rounded-2xl hover:bg-earth-50 transition-all text-xs uppercase tracking-widest",children:"Close"}),e.jsxs("button",{onClick:()=>{r(!1),x==null||x(v.FINANCE)},className:"flex-1 bg-agro-600 text-white font-black py-4 rounded-2xl shadow-lg shadow-agro-600/20 hover:bg-agro-700 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2",children:["Go to Finance ",e.jsx(w,{size:16})]})]})]})]}),e.jsxs("div",{className:"p-8 bg-earth-50 dark:bg-earth-800/30 text-center border-t border-earth-100 dark:border-earth-800 flex items-center justify-center gap-2",children:[e.jsx(ShieldCheck,{size:16,className:"text-blue-500"}),e.jsx("p",{className:"text-[10px] text-earth-400 dark:text-earth-600 font-black uppercase tracking-[0.4em]",children:"Audit Trail Logged to Network Node EA-SYNC-8"})]})]})})};export{E as M};
