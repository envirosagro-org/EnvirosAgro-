import{r as t,j as e,L as b,s as f,cg as j,ch as y}from"../vendor-paJ_2uBt.js";import{d as w}from"./CreatePost-BIEnHKPr.js";const k=({user:i,onGroupRegistered:x})=>{const[a,h]=t.useState(""),[s,p]=t.useState("Group"),[o,g]=t.useState(""),[c,l]=t.useState(!1),[u,n]=t.useState(null),m=async r=>{if(r.preventDefault(),l(!0),n(null),!a||!s||!o){n("All fields are required."),l(!1);return}try{await j(y(w,"groups"),{name:a,type:s,legalId:o,createdBy:i.email,createdAt:new Date,members:[i.email]}),x()}catch(d){d instanceof Error&&n(d.message),console.error(d)}finally{l(!1)}};return e.jsxs("div",{className:"p-8 bg-white dark:bg-earth-900 rounded-3xl shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-agro-900 dark:text-white mb-2",children:"Register a New Group"}),e.jsx("p",{className:"text-earth-500 dark:text-earth-400 mb-6",children:"Create a new group, society, or club on the EnvirosAgro network."}),u&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 rounded-xl text-red-600 dark:text-red-400 text-sm",children:u}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-earth-600 dark:text-earth-300",children:"Group Name"}),e.jsx("input",{type:"text",value:a,onChange:r=>h(r.target.value),className:"w-full mt-2 bg-earth-100 dark:bg-earth-800 border-2 border-transparent focus:border-agro-500 rounded-xl py-3 px-4 focus:outline-none transition-all dark:text-white",placeholder:"e.g., 'Future Farmers of America'"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-earth-600 dark:text-earth-300",children:"Group Type"}),e.jsxs("select",{value:s,onChange:r=>p(r.target.value),className:"w-full mt-2 bg-earth-100 dark:bg-earth-800 border-2 border-transparent focus:border-agro-500 rounded-xl py-3 px-4 focus:outline-none transition-all dark:text-white",children:[e.jsx("option",{value:"Group",children:"Group"}),e.jsx("option",{value:"Society",children:"Society"}),e.jsx("option",{value:"Club",children:"Club"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-earth-600 dark:text-earth-300",children:"Legal Registration ID"}),e.jsx("input",{type:"text",value:o,onChange:r=>g(r.target.value),className:"w-full mt-2 bg-earth-100 dark:bg-earth-800 border-2 border-transparent focus:border-agro-500 rounded-xl py-3 px-4 focus:outline-none transition-all dark:text-white",placeholder:"e.g., '123-456-7890'"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-agro-600 hover:bg-agro-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition-all",children:c?e.jsx(b,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:["Register Group ",e.jsx(f,{size:18})]})})]})]})};export{k as R};
